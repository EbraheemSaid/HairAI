@echo off\nREM Script to test the complete HairAI workflow with curl commands\n\necho === HairAI Complete Workflow Test ===\n\nREM Configuration\nset API_BASE=http://localhost:5000/api\nset IMAGE_PATH=E:\\HairAI_Final\\Hair-Analysis-1\\HairAI_test\\test\\16.jpg\n\necho 1. Starting all services...\ndocker-compose up -d\n\necho 2. Waiting for services to be ready (30 seconds)...\ntimeout /t 30 /nobreak >nul\n\necho 3. Checking service status...\ndocker-compose ps\n\necho 4. Testing backend API health endpoint...\ncurl -s %API_BASE%/health\necho.\n\necho 5. Registering a new user...\ncurl -s -X POST %API_BASE%/auth/register ^\n  -H \"Content-Type: application/json\" ^\n  -d \"{\\\"firstName\\\": \\\"Test\\\",\\\"lastName\\\": \\\"User\\\",\\\"email\\\": \\\"test@example.com\\\",\\\"password\\\": \\\"Test123!\\\",\\\"confirmPassword\\\": \\\"Test123!\\\"}\"\necho.\n\necho 6. Logging in...\ncurl -s -X POST %API_BASE%/auth/login ^\n  -H \"Content-Type: application/json\" ^\n  -d \"{\\\"email\\\": \\\"test@example.com\\\",\\\"password\\\": \\\"Test123!\\\"}\"\necho.\n\necho 7. Creating a clinic...\ncurl -s -X POST %API_BASE%/clinics ^\n  -H \"Content-Type: application/json\" ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\" ^\n  -d \"{\\\"name\\\": \\\"Test Clinic\\\",\\\"address\\\": \\\"123 Test Street\\\",\\\"phone\\\": \\\"+1234567890\\\",\\\"email\\\": \\\"clinic@test.com\\\"}\"\necho.\n\necho 8. Creating a patient...\ncurl -s -X POST %API_BASE%/patients ^\n  -H \"Content-Type: application/json\" ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\" ^\n  -d \"{\\\"firstName\\\": \\\"John\\\",\\\"lastName\\\": \\\"Doe\\\",\\\"dateOfBirth\\\": \\\"1980-01-01\\\",\\\"gender\\\": \\\"Male\\\",\\\"clinicId\\\": \\\"YOUR_CLINIC_ID_HERE\\\"}\"\necho.\n\necho 9. Creating a calibration profile...\ncurl -s -X POST %API_BASE%/calibration ^\n  -H \"Content-Type: application/json\" ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\" ^\n  -d \"{\\\"name\\\": \\\"Test Calibration\\\",\\\"description\\\": \\\"Test calibration profile\\\",\\\"calibrationData\\\": \\\"{\\\\\\\"pixelsPerMm\\\\\\\": 600}\\\",\\\"clinicId\\\": \\\"YOUR_CLINIC_ID_HERE\\\"}\"\necho.\n\necho 10. Creating an analysis session...\ncurl -s -X POST %API_BASE%/analysis/session ^\n  -H \"Content-Type: application/json\" ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\" ^\n  -d \"{\\\"patientId\\\": \\\"YOUR_PATIENT_ID_HERE\\\",\\\"sessionDate\\\": \\\"2025-09-02\\\",\\\"notes\\\": \\\"Test analysis session\\\"}\"\necho.\n\necho 11. Uploading an image for analysis...\ncurl -s -X POST %API_BASE%/analysis/job ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\" ^\n  -F \"image=@%IMAGE_PATH%\" ^\n  -F \"sessionId=YOUR_SESSION_ID_HERE\" ^\n  -F \"calibrationProfileId=YOUR_CALIBRATION_ID_HERE\"\necho.\n\necho 12. Checking job status...\ncurl -s -X GET %API_BASE%/analysis/job/YOUR_JOB_ID_HERE/status ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\"\necho.\n\necho 13. Waiting for job to complete (30 seconds)...\ntimeout /t 30 /nobreak >nul\n\necho 14. Checking job status again...\ncurl -s -X GET %API_BASE%/analysis/job/YOUR_JOB_ID_HERE/status ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\"\necho.\n\necho 15. Retrieving job results...\ncurl -s -X GET %API_BASE%/analysis/job/YOUR_JOB_ID_HERE/result ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\"\necho.\n\necho 16. Getting session details...\ncurl -s -X GET %API_BASE%/analysis/session/YOUR_SESSION_ID_HERE ^\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN_HERE\"\necho.\n\necho === Test Complete ===\necho To monitor the AI worker processing jobs:\necho docker-compose logs -f ai-worker